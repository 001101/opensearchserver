<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE reference PUBLIC "-//OASIS//DTD DITA Reference//EN" "reference.dtd" >
<reference xml:lang="fr-FR">
	<title>API Search / Select</title>
	<prolog>
		<author>Emmanuel Keller</author>
	</prolog>
	<shortdesc>Lʼapi Search/Select sert à interroger le moteur de
		recherche. Lʼinterrogation se fait sous la
		forme dʼune requête HTTP de
		type GET ou POST. Le moteur de recherche
		renvoit un
		résultat au format
		XML.</shortdesc>
	<refbody>
		<section spectitle="Url d'appel">
			Lʼurl relative de base est:
			<codeph>/select</codeph>
		</section>
		<section spectitle="Exemple">
			<codeph>http://localhost:8080/OpenSearchServer/select?q=test&amp;qt=search</codeph>	
	</section>
	<section spectitle="Paramètres">
	<note>Les paramètres doivent être url encodés en UTF-8.</note>
		<simpletable spectitle="Liste des paramètres">
			<sthead>
				<stentry>Name</stentry>
				<stentry>Description</stentry>
				<stentry>Type</stentry>
				<stentry>Valeur par défaut</stentry>
				<stentry>Recquis?</stentry>
			</sthead>
			<strow>
				<stentry>q</stentry>
				<stentry>
					Mots clé recherchés.
					<example>
						Par exemple:
						<codeph>q=%E9ssai</codeph></example></stentry>
				<stentry>Texte</stentry>
					<stentry></stentry>
				<stentry>oui (ou <varname>query</varname>)</stentry>
			</strow>
			<strow>
				<stentry>query</stentry>
				<stentry>identique au paramètres <varname>q</varname>.<example>Par exemple: <codeph>query=%E9ssai</codeph></example></stentry>
				<stentry>Texte</stentry>
				<stentry></stentry>
				<stentry>oui (ou <varname>q</varname>)</stentry>
			</strow>
			<strow>
				<stentry>qt</stentry>
				<stentry>Permet de de charger une requête paramétrée dans le fichier de configuration de lʼindex <varname>config.xml</varname>.<example>Par exemple: <codeph>qt=nomdelarequete</codeph></example></stentry>
<stentry>Texte</stentry>
				<stentry></stentry>
				<stentry>non</stentry>
			</strow>
						<strow>
				<stentry>start</stentry>
				<stentry>Indique le rang du premier résultat affiché. Ce paramètre permet de mettre en oeuvre la pagination.<example>Par exemple: <codeph>start=10</codeph></example></stentry>
				<stentry>Nombre</stentry>
				<stentry>0</stentry>
				<stentry>non</stentry>
			</strow>
			<strow>
					<stentry>rows</stentry>
					<stentry>Indique le nombre de documents à retourner. Associé à start ile permet de mettre en oeuvre la pagination.<example>Par exemple: <codeph>rows=5</codeph></example></stentry>
					<stentry>Nombre</stentry>
					<stentry>10</stentry>
					<stentry>non</stentry>
			</strow>
			<strow>
					<stentry>lang</stentry>
					<stentry>Indique la langue des mots clés passée au paramètre <varname>q</varname>. Le moteur utilisera lʼanalyseur approprié.<example>Par exemple: <codeph>lang=fr</codeph></example></stentry>
					<stentry>Texte</stentry>
					<stentry></stentry>
					<stentry>non</stentry>
			</strow>
			<strow>
					<stentry>collapse.field</stentry>
					<stentry>Active le collapsing sur le champs passé en paramètre.<example>Par exemple: <codeph>collapse.field=hostname</codeph></example></stentry>
					<stentry>Nom d'un champ</stentry>
					<stentry></stentry>
					<stentry>non</stentry>
			</strow>
			<strow>
					<stentry>collapse.max</stentry>
					<stentry>Indique le nombre de document à renvoyer avant dʼactiver le collapsing.<example>Par exemple: <codeph>collapse.max=2</codeph></example></stentry>
					<stentry>Nombre</stentry>
					<stentry>2</stentry>
					<stentry>non</stentry>
			</strow>
			<strow>
					<stentry>delete</stentry>
					<stentry>Si ce paramètre est passé, les documents renvoyés par la requête sont supprimés.<example>Par exemple: <codeph>&amp;delete</codeph></example></stentry>
					<stentry></stentry>
					<stentry></stentry>
					<stentry>non</stentry>
			</strow>
			<strow>
					<stentry>noCache</stentry>
					<stentry>Désactive le cache (pour l'appel en cours uniquement).<example><codeph>&amp;noCache</codeph></example></stentry>
					<stentry></stentry>
					<stentry></stentry>
					<stentry>non</stentry>
			</strow>
			<strow>
					<stentry>debug</stentry>
					<stentry>Active les informations de debug dans le résultat.<example>Par exemple: <codeph>&amp;debug</codeph></example></stentry>
					<stentry></stentry>
					<stentry></stentry>
					<stentry>non</stentry>
			</strow>
			<strow>
					<stentry>fq</stentry>
					<stentry>Ajoute un filtre à l'appel en cours. Le paramètres peut être utilisé plusieurs fois dans le même appel pour multiplier les filtres.<example>Par exemple: <codeph>fq=date:20101201&amp;fq=color:red</codeph></example></stentry>
					<stentry>Texte</stentry>
					<stentry></stentry>
					<stentry>non</stentry>
			</strow>
			<strow>
					<stentry>rf</stentry>
					<stentry>Ajoute un ou plusieurs champs à renvoyer.<example>Par exemple: <codeph>&amp;rf=date&amp;rf=color</codeph></example></stentry>
					<stentry>Texte (nom du champ)</stentry>
					<stentry></stentry>
					<stentry>non</stentry>
			</strow>
						<strow>
					<stentry>fl</stentry>
					<stentry>Identique au paramètre <varname>rf</varname></stentry>
					<stentry>Texte</stentry>
					<stentry></stentry>
					<stentry>non</stentry>
			</strow>
						<strow>
					<stentry>sort</stentry>
					<stentry>Contrôle lʼordonnancement des résultats. Utiliser le sigle + ou - pour classer respectivement par ordre croissant ou décroissant.<example>Par exemple: <codeph>&amp;sort=-date&amp;sort=color</codeph></example></stentry>
					<stentry>Texte</stentry>
					<stentry></stentry>
					<stentry>non</stentry>
			</strow>
						<strow>
					<stentry>facet</stentry>
					<stentry>Active le calcul dʼun facet pour le champ passé en paramètre. On peut ajouter un chiffre entre parenthèse pour spécifier le comptage minimum.<example>Par exemple: <codeph>&amp;facet=color</codeph> ou <codeph>&amp;facet=color(2)</codeph></example></stentry>
					<stentry>Texte(Nombre)</stentry>
					<stentry></stentry>
					<stentry>non</stentry>
			</strow>
						<strow>
					<stentry>facet.multi</stentry>
					<stentry>Même comportement que facet à appliquer aux champs contenant des valeurs multiples (champs multivalués).<example>Par exemple: <codeph>&amp;facet.multi=color</codeph> ou <codeph>&amp;facet.multi=color(2)</codeph></example></stentry>
					<stentry>Texte(Nombre)</stentry>
					<stentry></stentry>
					<stentry>non</stentry>
			</strow>
		</simpletable>
		</section>
		<section spectitle="Resultat XML">
		<note>La réponse est au format XML encodé en UTF-8.</note>
		</section>
	</refbody>
</reference>